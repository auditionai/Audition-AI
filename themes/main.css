/* themes/main.css */

/* --- DEFAULT ROOT THEME (FOR HOMEPAGE) --- */
:root {
  --color-fill: #0B0B0F;
  --color-fill-secondary: #12121A;
  --color-fill-modal: #141218;
  --color-text-base: #E0E0E0;
  --color-text-muted: #888888;
  /* Original pinkish accent */
  --color-accent: 247 37 133; /* #F72585 */
  --color-accent-secondary: #CA27FF; /* A fuchsia color */
  --color-accent-text: #FFFFFF;
  --color-border: rgba(247, 37, 133, 0.2);
  --color-border-accent: rgba(247, 37, 133, 0.5);
  --shadow-accent: 0 0 15px rgba(247, 37, 133, 0.4);
  --shadow-accent-lg: 0 0 25px rgba(247, 37, 133, 0.5);

  /* Font from original */
  --font-heading: 'Be Vietnam Pro', sans-serif;
  --font-body: 'Be Vietnam Pro', sans-serif;

  /* Panel styles from original */
  --panel-radius: 1rem;
  --panel-border: 1px solid var(--color-border);
  --panel-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
  --button-radius: 9999px; /* Rounded buttons */
}


/* --- GENERAL SETUP & ANIMATIONS --- */
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fade-in { animation: fade-in 0.5s ease-out forwards; }


@keyframes fade-in-down {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }


@keyframes progress-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes subtle-pulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(247, 37, 133, 0.3); }
  50% { transform: scale(1.03); box-shadow: 0 0 20px rgba(247, 37, 133, 0.5); }
}

.interactive-3d {
  transform-style: preserve-3d;
  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.interactive-3d:hover {
  transform: perspective(1000px) rotateX(var(--rotateX, 0)) rotateY(var(--rotateY, 0)) scale3d(1.05, 1.05, 1.05);
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.4);
}

.auth-input {
    @apply w-full p-3 bg-white/10 rounded-lg border-2 border-transparent focus:border-pink-500 focus:bg-white/5 focus:ring-0 outline-none transition text-base text-white placeholder-gray-500;
}

.admin-tab {
    @apply px-4 py-2 text-sm font-semibold text-gray-400 rounded-md hover:bg-white/10 hover:text-white transition-colors;
}
.admin-tab-active {
    @apply px-4 py-2 text-sm font-semibold text-white bg-pink-500/20 rounded-md;
}


/* --- BASE THEME STYLES (Scoped) --- */
div[data-theme] {
  font-family: var(--font-body);
  background-color: var(--color-fill);
  color: var(--color-text-base);
  transition: background-color 0.5s ease, color 0.5s ease;
}

/* --- THEME DEFINITIONS --- */

/* 1. Cyber Dance (was Neon-Vibe, now default red/black) */
div[data-theme="cyber-punk"] {
  --color-fill: #0A0A0B;
  --color-fill-secondary: #111113;
  --color-fill-modal: #141218;
  --color-text-base: #E0E0E0;
  --color-text-muted: #888888;
  --color-accent: 255 30 86; /* #FF1E56 */
  --color-accent-secondary: #FF4D79;
  --color-accent-text: #FFFFFF;
  --color-border: rgba(255, 30, 86, 0.2);
  --color-border-accent: rgba(255, 30, 86, 0.5);
  --shadow-accent: 0 0 15px rgba(255, 30, 86, 0.4);
  --shadow-accent-lg: 0 0 25px rgba(255, 30, 86, 0.5);

  --font-heading: 'Orbitron', sans-serif;
  --font-body: 'Roboto', sans-serif;
  --panel-radius: 0.5rem;
  --panel-border: 1px solid var(--color-border);
  --panel-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  --button-radius: 0.375rem;
}

/* 2. Sweet Pastel (Reborn as Pink Pastel) */
div[data-theme="solar-flare"] {
  --color-fill: #FEEAFA; /* Light pastel pink */
  --color-fill-secondary: #FFF0FB;
  --color-fill-modal: #FFFFFF;
  --color-text-base: #4A2E3D; /* Dark brown for text */
  --color-text-muted: #8B6B7B;
  --color-accent: 255 112 184; /* #FF70B8 */
  --color-accent-secondary: #FFA8D9;
  --color-accent-text: #FFFFFF;
  --color-border: #FDD2F4;
  --color-border-accent: #FF70B8;
  --shadow-accent: 0 4px 15px rgba(255, 112, 184, 0.3);
  --shadow-accent-lg: 0 6px 25px rgba(255, 112, 184, 0.4);

  --font-heading: 'Pacifico', cursive;
  --font-body: 'Quicksand', sans-serif;
  --panel-radius: 1.5rem;
  --panel-border: 1px solid var(--color-border);
  /* Neumorphism shadows */
  --panel-shadow: 8px 8px 16px #d9c8d6, -8px -8px 16px #ffffff;
  --panel-shadow-inset: inset 4px 4px 8px #d9c8d6, inset -4px -4px 8px #ffffff;
  --button-radius: 50px;
}

/* 3. Magical Christmas */
div[data-theme="classic-dark"] {
  --color-fill: #1A2F2A; /* Deep pine green */
  --color-fill-secondary: #2A4B40;
  --color-fill-modal: #223F36;
  --color-text-base: #F0E6D2; /* Creamy white */
  --color-text-muted: #A09383;
  --color-accent: 229 184 115; /* #E5B873 */
  --color-accent-secondary: #C82A3A; /* Festive Red */
  --color-accent-text: #1A2F2A;
  --color-border: rgba(229, 184, 115, 0.2);
  --color-border-accent: rgba(229, 184, 115, 0.7);
  --shadow-accent: 0 0 20px rgba(229, 184, 115, 0.5);
  --shadow-accent-lg: 0 0 30px rgba(229, 184, 115, 0.6);

  --font-heading: 'Playfair Display', serif;
  --font-body: 'Merriweather', serif;
  --panel-radius: 1rem;
  --panel-border: 1px solid var(--color-border);
  --panel-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 15px var(--color-accent) inset;
  --button-radius: 0.5rem;
}

/* 4. Dreamy Galaxy */
div[data-theme="dreamy-galaxy"] {
  --color-fill: #0C001F; /* Deep space */
  --color-fill-secondary: #190D33;
  --color-fill-modal: #221545;
  --color-text-base: #E9E4F0;
  --color-text-muted: #A098B0;
  --color-accent: 127 90 240; /* #7F5AF0 */
  --color-accent-secondary: #00DBDE; /* Cyan */
  --color-accent-text: #FFFFFF;
  --color-border: rgba(127, 90, 240, 0.25);
  --color-border-accent: rgba(127, 90, 240, 0.8);
  --shadow-accent: 0 0 15px rgba(127, 90, 240, 0.5);
  --shadow-accent-lg: 0 0 25px rgba(127, 90, 240, 0.6);

  --font-heading: 'Orbitron', sans-serif;
  --font-body: 'Lato', sans-serif;
  --panel-radius: 0.5rem;
  --panel-border: 1px solid var(--color-border-accent);
  --panel-shadow: 0 0 20px rgba(127, 90, 240, 0.3), 0 0 5px var(--color-border-accent) inset;
  --button-radius: 0.25rem;
}


/* 5. Crystal Palace */
div[data-theme="neon-vibe"] {
  --color-fill: #0F1C2E; /* Deep Sea */
  --color-fill-secondary: #172A46;
  --color-fill-modal: rgba(23, 42, 70, 0.8);
  --color-text-base: #E0F2F1;
  --color-text-muted: #80CBC4;
  --color-accent: 77 208 225; /* #4DD0E1 */
  --color-accent-secondary: #B2EBF2;
  --color-accent-text: #0F1C2E;
  --color-border: rgba(77, 208, 225, 0.2);
  --color-border-accent: rgba(178, 235, 242, 0.8);
  --shadow-accent: 0 0 20px rgba(77, 208, 225, 0.4);
  --shadow-accent-lg: 0 0 30px rgba(77, 208, 225, 0.5);

  --font-heading: 'Josefin Sans', sans-serif;
  --font-body: 'Lato', sans-serif;
  --panel-radius: 1rem;
  --panel-border: 1px solid var(--color-border-accent);
  --panel-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
  --button-radius: 9999px;
}

/* --- THEME-AWARE COMPONENTS --- */

/* Themed Panels */
.themed-panel {
  background-color: var(--color-fill-secondary);
  border-radius: var(--panel-radius);
  border: var(--panel-border);
  box-shadow: var(--panel-shadow);
  transition: all 0.3s ease;
}

div[data-theme="neon-vibe"] .themed-panel {
  background: rgba(23, 42, 70, 0.6); /* Glassmorphism */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}
/* Iridescent border for Crystal Palace */
div[data-theme="neon-vibe"] .themed-panel::before {
    content: '';
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: -1;
    margin: -1px; /* Adjust to border width */
    border-radius: inherit;
    background: linear-gradient(145deg, rgba(77, 208, 225, 0.8), rgba(178, 235, 242, 0.3), rgba(77, 208, 225, 0.8));
}

div[data-theme="solar-flare"] .themed-panel {
  background-color: var(--color-fill);
}

div[data-theme="cyber-punk"] .themed-panel {
    clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
    position: relative;
}
div[data-theme="cyber-punk"] .themed-panel::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--panel-radius);
    padding: 1px;
    background: linear-gradient(45deg, var(--color-accent), transparent);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
}

div[data-theme="dreamy-galaxy"] .themed-panel {
    border: none;
    position: relative;
    padding: 2px;
    background-clip: padding-box;
    background: var(--color-fill-secondary);
}
div[data-theme="dreamy-galaxy"] .themed-panel::before {
    content: '';
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: -1;
    margin: -2px;
    border-radius: inherit;
    background: linear-gradient(160deg, var(--color-accent), var(--color-accent-secondary), var(--color-accent));
}

.themed-settings-block {
  @apply bg-black/20 p-4 rounded-xl flex flex-col flex-grow;
  border-radius: var(--panel-radius);
  transition: all 0.3s ease;
}

div[data-theme="solar-flare"] .themed-settings-block {
    box-shadow: var(--panel-shadow-inset);
    background-color: transparent;
}


/* Themed Buttons */
.themed-button-primary {
  background: linear-gradient(90deg, rgb(var(--color-accent)), var(--color-accent-secondary));
  color: var(--color-accent-text);
  border-radius: var(--button-radius);
  box-shadow: var(--shadow-accent);
  transition: all 0.3s ease;
}
.themed-button-primary:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-accent-lg);
}

.themed-button-secondary {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--color-text-base);
  border: 1px solid var(--color-border);
  border-radius: var(--button-radius);
  transition: all 0.3s ease;
}
.themed-button-secondary:hover {
  background-color: rgba(255, 255, 255, 0.2);
  border-color: var(--color-border-accent);
}

div[data-theme="solar-flare"] .themed-button-primary {
    border: 2px solid #fff;
}
div[data-theme="solar-flare"] .themed-button-secondary {
    background-color: #fff;
    border: 2px solid var(--color-border);
    color: var(--color-text-muted);
}
div[data-theme="solar-flare"] .themed-button-secondary:hover {
    border-color: var(--color-accent);
    color: rgb(var(--color-accent));
}

/* Themed Headings */
.themed-heading {
  font-family: var(--font-heading);
}

/* Themed Logo */
.logo-container {
  text-align: left;
}
.logo-text {
  font-family: var(--font-heading);
  font-size: 1.75rem;
  font-weight: 700;
  line-height: 1;
  background: linear-gradient(90deg, rgb(var(--color-accent)), var(--color-accent-secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.logo-subtext {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  letter-spacing: 0.05em;
  margin-top: 2px;
}

/* Custom Select Dropdown */
.custom-select-wrapper { @apply relative w-full; }
.custom-select-trigger {
  @apply p-2 rounded-md border text-left w-full transition flex justify-between items-center;
  background-color: var(--color-fill);
  border: 1px solid var(--color-border);
  border-radius: var(--button-radius);
  color: var(--color-text-base);
}
.custom-select-options {
  @apply absolute top-full left-0 right-0 mt-2 bg-skin-fill-modal border border-skin-border rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto;
  border-radius: var(--panel-radius);
}
/* FIX: Build error from using @apply with opacity modifier */
.custom-select-option {
  @apply w-full text-left px-4 py-2 flex justify-between items-center;
  color: var(--color-text-muted);
  transition: background-color 0.2s ease-in-out;
}
.custom-select-option:hover {
    background-color: rgb(var(--color-accent) / 0.1);
}
.custom-select-option.active {
  color: rgb(var(--color-accent));
  font-weight: 600;
}

/* --- PARTICLE EFFECTS --- */

/* Base particle style */
.particle {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
}

/* 1. Snow (for Christmas) */
.snow {
  background: white;
  animation: fall linear infinite;
}
@keyframes fall {
  0% { transform: translateY(-10vh) translateX(0); opacity: 1; }
  100% { transform: translateY(110vh) translateX(10vw); opacity: 0; }
}

/* 2. Sparkles (for Crystal Palace) */
.sparkle {
  background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%);
  animation: sparkle-anim 2s infinite ease-in-out;
}
@keyframes sparkle-anim {
  0%, 100% { transform: scale(0.5); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 1; }
}

/* 3. Hearts (for Sweet Pastel) */
.heart {
    width: 10px;
    height: 10px;
    position: absolute;
    background-color: rgb(var(--color-accent));
    transform: rotate(-45deg);
    animation: hearts-up 10s linear infinite;
}
.heart::before, .heart::after {
    content: '';
    width: 10px;
    height: 10px;
    position: absolute;
    background-color: rgb(var(--color-accent));
    border-radius: 50%;
}
.heart::before { top: -5px; left: 0; }
.heart::after { top: 0; left: 5px; }

@keyframes hearts-up {
  0% { transform: translateY(100vh) rotate(-45deg); opacity: 1; }
  100% { transform: translateY(-10vh) rotate(-45deg); opacity: 0; }
}

/* 4. Shooting Stars (for Galaxy) */
.shooting_star {
  position: absolute;
  left: 50%;
  top: 50%;
  height: 2px;
  background: linear-gradient(-45deg, var(--color-accent-secondary), rgba(0, 0, 255, 0));
  border-radius: 999px;
  filter: drop-shadow(0 0 6px var(--color-accent-secondary));
  animation: tail 3000ms ease-in-out infinite, shooting 3000ms ease-in-out infinite;
}
@keyframes tail {
  0% { width: 0; }
  30% { width: 100px; }
  100% { width: 0; }
}
@keyframes shooting {
  0% { transform: translateX(0); }
  100% { transform: translateX(300px); }
}

/* 5. Bubbles (for Crystal Palace - fallback) */
.bubble {
    background-color: rgb(var(--color-accent));
    opacity: 0.3;
    animation: bubble-up 15s linear infinite;
}
@keyframes bubble-up {
    0% { transform: translateY(100vh) translateX(0); }
    100% { transform: translateY(-10vh) translateX(5vw); }
}

/* 6. Bokeh (for Christmas) */
.bokeh-particle {
    position: absolute;
    border-radius: 50%;
    filter: blur(5px);
    animation: bokeh-float 20s infinite ease-in-out;
}
@keyframes bokeh-float {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0.1; }
    50% { transform: translateY(-20px) translateX(10px); opacity: 0.4; }
}

/* 7. Caustics (for Crystal Palace) */
.caustics_overlay {
  position: fixed;
  width: 200%;
  height: 200%;
  top: -50%;
  left: -50%;
  z-index: -1;
  pointer-events: none;
  background: url('https://media.giphy.com/media/3o85A Fn0sA8P50k4/giphy.gif') 0 0 / 512px 512px repeat; /* Using a placeholder GIF */
  animation: caustics_anim 20s linear infinite;
  opacity: 0.1;
  will-change: transform;
}
@keyframes caustics_anim {
    0% { transform: translate(0, 0); }
    100% { transform: translate(256px, 256px); }
}

/* Footer Neon Text - specific to a theme or global? Put it under a theme. */
div[data-theme="cyber-punk"] .footer-neon-text,
div[data-theme="dreamy-galaxy"] .footer-neon-text {
  font-family: var(--font-heading);
  color: rgb(var(--color-accent));
  text-shadow: 0 0 5px rgb(var(--color-accent)), 0 0 10px rgb(var(--color-accent)), 0 0 15px var(--color-accent-secondary);
}

.theme-display-highlight {
    animation: theme-highlight-anim 1.5s ease-out forwards;
}

@keyframes theme-highlight-anim {
    0% {
        text-shadow: 0 0 0px rgb(var(--color-accent));
        transform: scale(1);
    }
    50% {
        text-shadow: 0 0 20px rgb(var(--color-accent)), 0 0 30px rgb(var(--color-accent));
        transform: scale(1.1);
    }
    100% {
        text-shadow: 0 0 0px rgb(var(--color-accent));
        transform: scale(1);
    }
}
/* Galaxy background */
.galaxy-bg {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: -2;
    background: #0C001F;
}

#stars {
  width: 1px;
  height: 1px;
  background: transparent;
  box-shadow: 
    /* A large number of stars */
    10vw 20vh #FFF, 80vw 30vh #FFF, 50vw 80vh #FFF, 25vw 60vh #FFF, 90vw 90vh #FFF,
    5vw 5vh #FFF, 40vw 70vh #FFF, 60vw 10vh #FFF, 75vw 50vh #FFF, 15vw 95vh #FFF;
  animation: animStar 50s linear infinite;
}

#stars2 {
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow: 
    15vw 85vh #FFF, 65vw 5vh #FFF, 95vw 40vh #FFF, 30vw 25vh #FFF, 55vw 65vh #FFF;
  animation: animStar 100s linear infinite;
}

#stars3 {
  width: 3px;
  height: 3px;
  background: transparent;
  box-shadow: 
    45vw 45vh #FFF, 85vw 75vh #FFF, 5vw 55vh #FFF;
  animation: animStar 150s linear infinite;
}

@keyframes animStar {
  from {
    transform: translateY(0px);
  }
  to {
    transform: translateY(-2000px);
  }
}
