/* 
============================================
GLOBAL STYLES (Used by both)
============================================
*/
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .themed-button-primary {
      @apply bg-skin-accent text-skin-accent-text rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 shadow-accent;
    }
    .themed-button-secondary {
      @apply bg-skin-fill-secondary text-skin-base rounded-lg transition-colors duration-300 border border-skin-border hover:bg-skin-fill hover:border-skin-border-accent;
    }
    .themed-panel {
      @apply bg-skin-fill-secondary border border-skin-border rounded-xl;
    }
     .auth-input {
      @apply w-full bg-skin-fill border border-skin-border rounded-lg p-3 text-skin-base placeholder-skin-muted focus:outline-none focus:ring-2 focus:ring-skin-accent focus:border-transparent transition;
    }
     .admin-tab {
      @apply px-4 py-2 text-sm font-semibold rounded-full text-skin-muted bg-skin-fill-secondary hover:bg-skin-fill hover:text-skin-base transition;
    }
    .admin-tab-active {
      @apply px-4 py-2 text-sm font-bold rounded-full text-skin-accent-text bg-skin-accent shadow-md;
    }
     .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: var(--color-accent) var(--color-fill-secondary);
    }
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: var(--color-fill-secondary);
        border-radius: 10px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: var(--color-accent);
        border-radius: 10px;
        border: 2px solid var(--color-fill-secondary);
    }

    .custom-select-wrapper {
        position: relative;
    }
    .custom-select-trigger {
        @apply auth-input w-full p-2 flex justify-between items-center cursor-pointer;
    }
    .custom-select-options {
        @apply absolute top-full left-0 right-0 z-10 mt-1 bg-skin-fill-modal border border-skin-border rounded-lg shadow-lg max-h-60 overflow-y-auto custom-scrollbar;
    }
    .custom-select-option {
        @apply w-full text-left px-3 py-2 text-sm text-skin-muted hover:bg-skin-accent/10 hover:text-skin-base flex justify-between items-center;
    }
     .custom-select-option.active {
        @apply bg-skin-accent/20 text-skin-accent font-semibold;
     }

}

/* Toggle Switch Animation */
.toggle-switch-dot {
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Progress Bar Animation */
@keyframes progress-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Reward Notification Animations */
@keyframes reward-enter {
  from { opacity: 0; transform: scale(0.8) translateY(20px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes reward-exit {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.9); }
}
@keyframes reward-icon-pop {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}
@keyframes reward-item-enter {
   from { opacity: 0; transform: translateX(-20px); }
   to { opacity: 1; transform: translateX(0); }
}
.reward-sparkles {
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.3) 0px, transparent 2px),
    radial-gradient(circle at 80% 30%, rgba(255,255,255,0.3) 0px, transparent 2px),
    radial-gradient(circle at 50% 90%, rgba(255,255,255,0.3) 0px, transparent 2px);
  animation: sparkle-anim 5s linear infinite;
}
@keyframes sparkle-anim {
  from { transform: translateY(0); }
  to { transform: translateY(-100px); }
}

/* Theme name display highlight */
@keyframes highlight-theme {
  0%, 100% {
    color: var(--color-accent);
    transform: scale(1);
    opacity: 1;
  }
  50% {
    color: #fff;
    transform: scale(1.2);
    opacity: 0.8;
  }
}

.theme-display-highlight {
  animation: highlight-theme 1.5s ease-in-out;
}

.footer-neon-text {
  animation: footer-glow 4s ease-in-out infinite alternate;
}

@keyframes footer-glow {
  from {
    text-shadow:
      0 0 5px #fff,
      0 0 10px #fff,
      0 0 15px rgb(var(--color-accent) / 0.8),
      0 0 20px rgb(var(--color-accent) / 0.7);
  }
  to {
    text-shadow:
      0 0 10px #fff,
      0 0 20px rgb(var(--color-accent) / 0.8),
      0 0 30px rgb(var(--color-accent) / 0.7),
      0 0 40px rgb(var(--color-accent) / 0.6);
  }
}

.button-neon-glow {
  animation: button-glow 3s ease-in-out infinite alternate;
}

@keyframes button-glow {
  from {
    box-shadow: 0 0 5px var(--tw-shadow-color), 0 0 10px var(--tw-shadow-color);
  }
  to {
     box-shadow: 0 0 15px var(--tw-shadow-color), 0 0 25px var(--tw-shadow-color);
  }
}

/*
============================================
THEMES
============================================
*/

/* 1. Vũ Điệu Neon (Default Dark) - Was 'Cyber Punk' */
body[data-theme='cyber-punk'] {
  --color-fill: #0B0B0F;
  --color-fill-secondary: #12121A;
  --color-fill-modal: #100E17;
  --color-text-base: #EAEAEA;
  --color-text-muted: #A0A0A0;
  --color-border: rgba(255, 255, 255, 0.1);
  --color-border-accent: rgba(247, 37, 133, 0.5);
  --color-accent: 247, 37, 133;
  --color-accent-secondary: 114, 9, 183;
  --color-accent-text: #FFFFFF;
  --shadow-accent: 0 4px 14px 0 rgba(247, 37, 133, 0.39);
  --shadow-accent-lg: 0 10px 30px -5px rgba(247, 37, 133, 0.45);
}

/* 2. Kẹo Ngọt Pastel - Was 'Solar Flare' */
body[data-theme='solar-flare'] {
    --color-fill: #FEF3E0;
    --color-fill-secondary: #FFFFFF;
    --color-fill-modal: #FFF8F0;
    --color-text-base: #1F2937; /* Dark gray for high contrast */
    --color-text-muted: #6B7280; /* Medium gray */
    --color-border: #E5E7EB; /* Light gray border */
    --color-border-accent: #FBCFE8; /* Light pink border */
    --color-accent: 244, 114, 182; /* Pink */
    --color-accent-secondary: 251, 146, 60; /* Orange */
    --color-accent-text: #FFFFFF;
    --shadow-accent: 0 4px 14px 0 rgba(244, 114, 182, 0.3);
    --shadow-accent-lg: 0 10px 25px -5px rgba(244, 114, 182, 0.35);
}

/* 3. Dải Ngân Hà - Was 'Dreamy Galaxy' */
body[data-theme='dreamy-galaxy'] {
    --color-fill: #000000;
    --color-fill-secondary: #111827;
    --color-fill-modal: #0c1222;
    --color-text-base: #E5E7EB;
    --color-text-muted: #9CA3AF;
    --color-border: #374151;
    --color-border-accent: #A78BFA;
    --color-accent: 139, 92, 246; /* Violet */
    --color-accent-secondary: 59, 130, 246; /* Blue */
    --color-accent-text: #FFFFFF;
    --shadow-accent: 0 4px 14px 0 rgba(139, 92, 246, 0.3);
    --shadow-accent-lg: 0 10px 25px -5px rgba(139, 92, 246, 0.35);
}

/* Special background for galaxy theme */
.galaxy-bg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
    overflow: hidden;
}

@function random_range($min, $max) {
  @return $min + random($max - $min);
}

#stars, #stars2, #stars3 {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  display: block;
  background: transparent;
}
#stars { background: transparent url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjEwMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+ICA8Y2lyY2xlIGZpbGw9IiNGRkZGRkYiIGN4PSIyIiBjeT0iMiIgcj0iMC41Ij48L2NpcmNsZT48L3N2Zz4='); animation: animStar 50s linear infinite; }
#stars2 { background: transparent url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjEwMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+ICA8Y2lyY2xlIGZpbGw9IiNGRkZGRkYiIGN4PSI1IiBjeT0iNSIgcj0iMSI+PC9jaXJjbGU+PC9zdmc+'); animation: animStar 100s linear infinite; }
#stars3 { background: transparent url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjEwMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+ICA8Y2lyY2xlIGZpbGw9IiNGRkZGRkYiIGN4PSIxMCIgY3k9IjEwIiByPSIxLjUiPjwvY2lyY2xlPjwvc3ZnPg=='); animation: animStar 150s linear infinite; }

@keyframes animStar { from { transform: translateY(0px) } to { transform: translateY(-2000px) } }


/* 4. Giáng Sinh - Was 'Classic Dark' */
body[data-theme='classic-dark'] {
    --color-fill: #0d1a26;
    --color-fill-secondary: #1a2c3a;
    --color-fill-modal: #0f1e2b;
    --color-text-base: #E0F2F1;
    --color-text-muted: #B0BEC5;
    --color-border: #37474F;
    --color-border-accent: #E57373;
    --color-accent: 229, 115, 115; /* Red */
    --color-accent-secondary: 129, 199, 132; /* Green */
    --color-accent-text: #FFFFFF;
    --shadow-accent: 0 4px 14px 0 rgba(229, 115, 115, 0.3);
    --shadow-accent-lg: 0 10px 25px -5px rgba(229, 115, 115, 0.35);
}

.snowfall-bg { background-color: transparent; }
.snow {
  width: 10px; height: 10px;
  background: white;
  border-radius: 50%;
  position: absolute;
  top: -10px;
  animation: fall linear infinite;
}
@keyframes fall {
  to { transform: translateY(100vh); }
}
/* Assign random animation properties to each snowflake */
/* A SASS loop would be ideal here, but for plain CSS, we need to do it manually or with JS */


/* 5. Lâu Đài Pha Lê - Was 'Neon Vibe' */
body[data-theme='neon-vibe'] {
    --color-fill: #1a1a2e;
    --color-fill-secondary: #242444;
    --color-fill-modal: #1f1f3a;
    --color-text-base: #E0E0FF;
    --color-text-muted: #A0A0C0;
    --color-border: #4a4a70;
    --color-border-accent: #00E5FF;
    --color-accent: 0, 229, 255; /* Cyan */
    --color-accent-secondary: 255, 48, 129; /* Pink */
    --color-accent-text: #0D0D1E;
    --shadow-accent: 0 4px 14px 0 rgba(0, 229, 255, 0.3);
    --shadow-accent-lg: 0 10px 25px -5px rgba(0, 229, 255, 0.35);
}
